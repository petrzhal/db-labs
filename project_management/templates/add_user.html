{% extends 'layout.html' %}

{% block title %}Добавление пользователя{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1 class="mb-4">Добавить нового пользователя</h1>

    {% if error_message %}
    <div class="alert alert-danger">
        {{ error_message }}
    </div>
    {% endif %}

    {% if success_message %}
    <div class="alert alert-success">
        {{ success_message }}
    </div>
    <script>
        setTimeout(function() {
            window.location.href = "{% url 'manage_users' %}";
        }, 1000);
    </script>
    {% endif %}

    <form method="post" action="{% url 'add_user' %}">
        {% csrf_token %}
        <div class="form-group">
            <label for="username">Имя пользователя</label>
            <input
                type="text"
                class="form-control"
                id="username"
                name="username"
                placeholder="Введите имя пользователя"
                required
            />
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                placeholder="Введите email"
                required
            />
        </div>
        <div class="form-group">
            <label for="password">Пароль</label>
            <input
                type="password"
                class="form-control"
                id="password"
                name="password"
                placeholder="Введите пароль"
                required
            />
        </div>
        <div class="form-group">
            <label for="role">Роль</label>
            <select class="form-control" id="role" name="role" required>
                <option value="" disabled selected>Выберите роль</option>
                <option value="Admin">Администратор</option>
                <option value="Project Manager">Менеджер проектов</option>
                <option value="Employee">Сотрудник</option>
            </select>
        </div>
        <div class="form-group">
            <label for="phone">Телефон</label>
            <input
                type="text"
                class="form-control"
                id="phone"
                name="phone"
                placeholder="Введите номер телефона"
                required
            />
        </div>
        <div class="form-group">
            <label for="address">Адрес</label>
            <input
                type="text"
                class="form-control"
                id="address"
                name="address"
                placeholder="Введите адрес"
            />
        </div>
        <div class="form-group">
            <label for="birthday">Дата рождения</label>
            <input
                type="date"
                class="form-control"
                id="birthday"
                name="birthday"
                required
            />
        </div>
        <button type="submit" class="btn btn-success">Добавить пользователя</button>
        <a href="{% url 'manage_users' %}" class="btn btn-secondary">Отмена</a>
    </form>
</div>
{% endblock %}
